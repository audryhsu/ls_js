<!DOCTYPE html>
<html lang="en" dir="ltr">

<head>
  <meta charset="utf-8">
  <title>tweet box</title>
  <style media="screen">
    .composer {
      background: #f5f5f5;
      padding: 1em;
      width: 30em;
    }

    .composer textarea {
      width: 100%;
      height: 4em;
    }

    .composer textarea.invalid {
      color: red;
    }
  </style>
  <script type="text/javascript">
    document.addEventListener('DOMContentLoaded', () => {
      let p = document.querySelector('p')
      let textarea = document.querySelector('textarea')
      let button = document.querySelector('button')

      function updateCounter() {
        let charsRemaining = 140 - textarea.value.length;
        p.textContent = `${charsRemaining} characters remaining`;

        // lines below are equivalent to if else block
        let isInvalid = charsRemaining < 0
        textarea.classList.toggle('invalid', isInvalid)
        button.disabled = isInvalid ? true : false


        // if (charsRemaining < 0) {
        //   textarea.classList.add('invalid')
        //   button.disabled = true;
        // } else {
        //   textarea.classList.remove('invalid')
        //   button.disabled = false;
        // }
      }

      document.addEventListener('keyup', updateCounter);
    })
  </script>
</head>

<body>
  <div class="composer">
    <textarea placeholder="Enter your message"></textarea>
    <p class="counter"></p>
    <button type="submit">Post Message</button>
  </div>
</body>

</html>